<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.5293f0e00c92128969df.css" data-identity="gatsby-global-css">.main-banner{background:url(/static/main_img_mobile-2841f254ae2fa914a2b023058ec34a40.jpeg);background-attachment:fixed;background-position:50%;background-repeat:no-repeat;background-size:cover;position:relative}@media (min-width:1024px){.main-banner{background:url(/static/main_img-eeadbed90e9e217b1294abb9f86d0988.jpg)}}.main-banner .subtitle,.main-banner .title{color:#fff}.main-banner-shade{background:rgba(0,0,0,.3);bottom:0;left:0;position:absolute;right:0;top:0}</style><meta name="generator" content="Gatsby 4.0.2"/><script>window.dataLayer = window.dataLayer || [];window.dataLayer.push({"platform":"gatsby"}); (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= 'https://www.googletagmanager.com/gtm.js?id='+i+dl+'';f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer', 'G-JTRSG8L60Z');</script><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><title data-react-helmet="true"></title><link data-react-helmet="true" rel="icon" href="/favicon.ico"/><link data-react-helmet="true" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css"/><link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml"/><link as="script" rel="preload" href="/webpack-runtime-e8d09e65819584e4a4bb.js"/><link as="script" rel="preload" href="/framework-b755398cc8fa0d117e92.js"/><link as="script" rel="preload" href="/app-424ac0eb0fd6662108c3.js"/><link as="script" rel="preload" href="/2c3559a924fb44b3f652ff5b708b64a3c6f77a42-1062a5ec4f87343c995d.js"/><link as="script" rel="preload" href="/component---src-pages-blog-mdx-slug-js-2d98bb37e10054a690e0.js"/><link as="fetch" rel="preload" href="/page-data/blog/post15/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=G-JTRSG8L60Z" height="0" width="0" style="display: none; visibility: hidden" aria-hidden="true"></iframe></noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><nav class="navbar is-light" role="navigation" aria-label="main navigation"><div class="container is-max-desktop"><div class="navbar-brand"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/projects">Projects</a><a class="navbar-item" href="/blog">Blog</a><a class="navbar-item" href="/cv">CV</a></div></div></nav><section class="hero is-medium main-banner"><div class="main-banner-shade"></div><div class="hero-body"><div class="container is-max-desktop"><h1 class="title">First queries in BigQuery</h1><p class="subtitle is-6">Posted on <time dateTime="October 1, 2021">October 1, 2021</time></p></div></div></section><section class="section"><div class="container is-max-desktop"><article class="content"><p>  As soon as we are logged in, in the Navigation menu (upper left corner), under the BigQuery we need to choose SQL Workspace.  And that’s what we see then:</p><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px">
      <a class="gatsby-resp-image-link" href="/static/c095a2324926bc8797073a8dbee90807/b297c/bigquery_1.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:28.37837837837838%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA/ElEQVQY04WPy0rEMBSG+3w+g7gWFBRxHF37DiIILnSgOq/iA8zKARcKbe10mibpJZdPkjqD4O3AR05+Tj5OkqNZxmRecXCXs3e1ZP/2jeObZ87TjGmacfGYM00LTmbvTB5WW04/z8P7krN5ye51wc7lgqTVCvCYoWP58ooQglrIyLqWlJWglRp6E+d+xlGuO54WgqSSDtWD7gxStTgPuvcoNdCLBjPYmHnvce47IW97h9A23pNyVWKtjdR1jVIKYwxN0+CtDab46C82FfpESolzLgrDd4Mo9EHqunaUjtP8Vl/lyTAMMQyCLMsoipxGtSipsZ0eN+T/LTfCDzfrxEctN0nYAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="BigQuery_example1" title="BigQuery_example1" src="/static/c095a2324926bc8797073a8dbee90807/fcda8/bigquery_1.png" srcSet="/static/c095a2324926bc8797073a8dbee90807/12f09/bigquery_1.png 148w,/static/c095a2324926bc8797073a8dbee90807/e4a3f/bigquery_1.png 295w,/static/c095a2324926bc8797073a8dbee90807/fcda8/bigquery_1.png 590w,/static/c095a2324926bc8797073a8dbee90807/efc66/bigquery_1.png 885w,/static/c095a2324926bc8797073a8dbee90807/c83ae/bigquery_1.png 1180w,/static/c095a2324926bc8797073a8dbee90807/b297c/bigquery_1.png 2844w" sizes="(max-width: 590px) 100vw, 590px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
  </a>
    </span></p><p>We need to remember the consequences of actions, first of all, we create Project (<strong>1</strong>). After it, clicking on the “Add Data”(<strong>2</strong>)  will enable us to choose between public datasets or make a connection to other external databases, like MySQL, PostgreSQL, AWS, and so on. Then, by clicking on the &quot;More options icon&quot;, next to the Project name (<strong>3</strong>), we will create a dataset. And only after the dataset is created, we click again on the &quot;More options icon&quot; next to its name and choose to create a table. That’s the moment when we can upload the data from an external file, Google Drive, or other storage.
So Project is like a book cover that holds our datasets together, and each dataset holds our tables.
With Bigquery we have 2 options: to work with our data or to experiment with a public dataset. As I don’t have a lot of my private data, I use public data sets for experimenting. So, let&#x27;s say we have chosen public datasets and now we see them in the Explorer menu. In the dataset &#x27;san_francisco_bikeshare&#x27;, I choose table &#x27;bikeshare_trips&#x27;. We open it with &quot;More options icon&quot; so we can see table schema, details, and preview. To retrieve and filter the data from the table, we need to click “Compose new query” and in the new window, we are gonna write our query.</p><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px">
      <a class="gatsby-resp-image-link" href="/static/035a3b10e44bf68d0442f698a3dd31ad/b297c/bigquery_2.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:33.78378378378378%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABMElEQVQoz22QyY7UMBRF8/8/gvgDNrBHrJBYoS5U3V1TJ3F5iOchB8UB1DQ86cjWtXX8nofP3458/X7m8Cx4eBYcTjvHs+Z0cYw6MW2YjFgys8mMKvHyiklnPny58+7TyCCVJaZKyuDjyiwDTxeFtY7Wtqx1nE9Md8eyWNZWeV0xFRabCDEzhOCJMVBKxTrHy6Q4XQVS6n7R+owLlaer5f3HK4eTZL4rRqFRxqFtRBjdM20WBud9f7XWSmsVbTy3URC8p21Z3bvx3iN0ZJJ3pBLEHIklkWomt/Kn22EbbZ5njFloreGsRSnVBSklWltxbht1gXVl/cXb+p0PtRYejz+4XS+9Kylll4UQusRa29dd3v4RvGWwvvFwnDnfDFLvolJKP9zWje07dtpfsv/tfwLUghzw2rqPvwAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="BigQuery_example2" title="BigQuery_example2" src="/static/035a3b10e44bf68d0442f698a3dd31ad/fcda8/bigquery_2.png" srcSet="/static/035a3b10e44bf68d0442f698a3dd31ad/12f09/bigquery_2.png 148w,/static/035a3b10e44bf68d0442f698a3dd31ad/e4a3f/bigquery_2.png 295w,/static/035a3b10e44bf68d0442f698a3dd31ad/fcda8/bigquery_2.png 590w,/static/035a3b10e44bf68d0442f698a3dd31ad/efc66/bigquery_2.png 885w,/static/035a3b10e44bf68d0442f698a3dd31ad/c83ae/bigquery_2.png 1180w,/static/035a3b10e44bf68d0442f698a3dd31ad/b297c/bigquery_2.png 2844w" sizes="(max-width: 590px) 100vw, 590px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
  </a>
    </span></p><p>In the right upper corner, there is a tip, if the query is written correctly, we see a green check and how many Mib this query will be processing. If something is not correct, then it will tell us, at what row there is the mistake.
When we are ready, just press “Run”.
I tried to find the number of customers, who rent  a bike for longer than 30 mins per trip and grouped them according to subscriber type with this SQL query:</p><pre><code>SELECT  COUNT(trip_id)  AS amount_of_users,
        subscriber_type
FROM  `bigquery-public-data.san_francisco_bikeshare.bikeshare_trips`
WHERE duration_sec &gt;  1800
GROUP  BY subscriber_type;
</code></pre><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px">
      <a class="gatsby-resp-image-link" href="/static/6d98ff0f963ccb61a09500ebce688485/0f688/bigquery_3.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:35.13513513513513%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABZ0lEQVQoz12Ry0sDMRDG90+vCjaZPHY3yRZtD16k9QGK11J6ayniCiLF3vVSSnvoUyv6SaaK4sBAJjPzyzeTxHuPNE2R5zmcc7DWQkiDer2BVquFZrOJs/NLnF9cwh2donFyhuN6A1WpQMZCKA0yGsYa7k0iMB4isCgKxJhIYzgcYjqdYjwe4+3tFdvtFp8f74jW7/dAJFHUdvU+BO6t1WpIQggwWkNKgSzbKVVEGI1GmEwmmM1mDN5sNvixsryHMYYBEVSEgPDtSSgKkNLY2z8AkUKWZSAilGWJ5XKJ9XrNkJeXZ9ze3ePh8QlX1zcgZZC7AJs65LnfKfUeiXMegiwOhQEpi9w5SCnR6XQYNp/PGdjr9VGpVCCEYAHGWKRpBu8Dj/yrMASQlKhWD7k4fozWGt1ul4GLxYKBg8GA81obCCF5klj735P4glKKVcW9xMvY2G63Gbharb73VnI+jhVh4Y+qv/4Fx/ifexKgHIAAAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="BigQuery_example3" title="BigQuery_example3" src="/static/6d98ff0f963ccb61a09500ebce688485/fcda8/bigquery_3.png" srcSet="/static/6d98ff0f963ccb61a09500ebce688485/12f09/bigquery_3.png 148w,/static/6d98ff0f963ccb61a09500ebce688485/e4a3f/bigquery_3.png 295w,/static/6d98ff0f963ccb61a09500ebce688485/fcda8/bigquery_3.png 590w,/static/6d98ff0f963ccb61a09500ebce688485/efc66/bigquery_3.png 885w,/static/6d98ff0f963ccb61a09500ebce688485/c83ae/bigquery_3.png 1180w,/static/6d98ff0f963ccb61a09500ebce688485/0f688/bigquery_3.png 2786w" sizes="(max-width: 590px) 100vw, 590px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy" decoding="async"/>
  </a>
    </span></p><p>Clicking “Save results” gives us options to save it like .csv file, .json, google drive, and so on for further work with it.
Also, we have an option here to save our query or the view, and to schedule our query, which could be convenient, if we were working with the dataset that constantly updates.</p></article></div></section><footer class="footer"><div class="content has-text-centered"><p><strong>Maryna Demchenko&#x27;s</strong> website. I use this website to share my experience of becoming a data analyst.</p><p>Copyright © 2021</p><p>This website is built with <a target="_blank" href="https://www.gatsbyjs.com/">GatsbyJS</a> and <a target="_blank" href="https://bulma.io/">Bulma</a></p></div></footer></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/post15/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-592a7c3ce8e7b84d5c8b.js"],"app":["/app-424ac0eb0fd6662108c3.js"],"component---src-pages-404-js":["/component---src-pages-404-js-a7e17e1ee111fca70ee9.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js-d93ff26dd0ddc58d0316.js"],"component---src-pages-blog-mdx-slug-js":["/component---src-pages-blog-mdx-slug-js-2d98bb37e10054a690e0.js"],"component---src-pages-cv-js":["/component---src-pages-cv-js-f37b96c3eac8c8fd5d2c.js"],"component---src-pages-index-js":["/component---src-pages-index-js-c72f5eed0e4d90ba415d.js"],"component---src-pages-projects-js":["/component---src-pages-projects-js-acabcdfa11265847c235.js"]};/*]]>*/</script><script src="/polyfill-592a7c3ce8e7b84d5c8b.js" nomodule=""></script><script src="/component---src-pages-blog-mdx-slug-js-2d98bb37e10054a690e0.js" async=""></script><script src="/2c3559a924fb44b3f652ff5b708b64a3c6f77a42-1062a5ec4f87343c995d.js" async=""></script><script src="/app-424ac0eb0fd6662108c3.js" async=""></script><script src="/framework-b755398cc8fa0d117e92.js" async=""></script><script src="/webpack-runtime-e8d09e65819584e4a4bb.js" async=""></script></body></html>