{
    "componentChunkName": "component---src-pages-blog-mdx-slug-js",
    "path": "/blog/post15/",
    "result": {"data":{"mdx":{"frontmatter":{"title":"First queries in BigQuery","date":"September 26, 2021"},"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"First queries in BigQuery\",\n  \"date\": \"2021-09-26\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"  As soon as we are logged in, in the Navigation menu (upper left corner), under the BigQuery we need to choose SQL Workspace.  And that\\u2019s what we see then:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"![BigQuery_example1](./imgs/bigquery_1.png)\\n\")), mdx(\"p\", null, \"We need to remember the consequences of actions, first of all, we create Project (\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"1\"), \"). After it, clicking on the \\u201CAdd Data\\u201D(\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"2\"), \")  will enable us to choose between public datasets or make a connection to other external databases, like MySQL, PostgreSQL, AWS, and so on. Then, by clicking on the \\\"More options icon\\\", next to the Project name (\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"3\"), \"), we will create a dataset. And only after the dataset is created, we click again on the \\\"More options icon\\\" next to its name and choose to create a table. That\\u2019s the moment when we can upload the data from an external file, Google Drive, or other storage.\\nSo Project is like a book cover that holds our datasets together, and each dataset holds our tables.\\nWith Bigquery we have 2 options: to work with our data or to experiment with a public dataset. As I don\\u2019t have a lot of my private data, I use public data sets for experimenting. So, let's say we have chosen public datasets and now we see them in the Explorer menu. In the dataset 'san_francisco_bikeshare', I choose table 'bikeshare_trips'. We open it with \\\"More options icon\\\" so we can see table schema, details, and preview. To retrieve and filter the data from the table, we need to click \\u201CCompose new query\\u201D and in the new window, we are gonna write our query.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"590px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/035a3b10e44bf68d0442f698a3dd31ad/b297c/bigquery_2.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"33.78378378378378%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABMElEQVQoz22QyY7UMBRF8/8/gvgDNrBHrJBYoS5U3V1TJ3F5iOchB8UB1DQ86cjWtXX8nofP3458/X7m8Cx4eBYcTjvHs+Z0cYw6MW2YjFgys8mMKvHyiklnPny58+7TyCCVJaZKyuDjyiwDTxeFtY7Wtqx1nE9Md8eyWNZWeV0xFRabCDEzhOCJMVBKxTrHy6Q4XQVS6n7R+owLlaer5f3HK4eTZL4rRqFRxqFtRBjdM20WBud9f7XWSmsVbTy3URC8p21Z3bvx3iN0ZJJ3pBLEHIklkWomt/Kn22EbbZ5njFloreGsRSnVBSklWltxbht1gXVl/cXb+p0PtRYejz+4XS+9Kylll4UQusRa29dd3v4RvGWwvvFwnDnfDFLvolJKP9zWje07dtpfsv/tfwLUghzw2rqPvwAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"BigQuery_example2\",\n    \"title\": \"BigQuery_example2\",\n    \"src\": \"/static/035a3b10e44bf68d0442f698a3dd31ad/fcda8/bigquery_2.png\",\n    \"srcSet\": [\"/static/035a3b10e44bf68d0442f698a3dd31ad/12f09/bigquery_2.png 148w\", \"/static/035a3b10e44bf68d0442f698a3dd31ad/e4a3f/bigquery_2.png 295w\", \"/static/035a3b10e44bf68d0442f698a3dd31ad/fcda8/bigquery_2.png 590w\", \"/static/035a3b10e44bf68d0442f698a3dd31ad/efc66/bigquery_2.png 885w\", \"/static/035a3b10e44bf68d0442f698a3dd31ad/c83ae/bigquery_2.png 1180w\", \"/static/035a3b10e44bf68d0442f698a3dd31ad/b297c/bigquery_2.png 2844w\"],\n    \"sizes\": \"(max-width: 590px) 100vw, 590px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"In the right upper corner, there is a tip, if the query is written correctly, we see a green check and how many Mib this query will be processing. If something is not correct, then it will tell us, at what row there is the mistake.\\nWhen we are ready, just press \\u201CRun\\u201D.\\nI tried to find the number of customers, who rent  a bike for longer than 30 mins per trip and grouped them according to subscriber type with this SQL query:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"SELECT  COUNT(trip_id)  AS amount_of_users,\\n        subscriber_type\\n\\nFROM  `bigquery-public-data.san_francisco_bikeshare.bikeshare_trips`\\n\\nWHERE duration_sec >  1800\\n\\nGROUP  BY subscriber_type;\\n\")), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"590px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/6d98ff0f963ccb61a09500ebce688485/0f688/bigquery_3.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"35.13513513513513%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABZ0lEQVQoz12Ry0sDMRDG90+vCjaZPHY3yRZtD16k9QGK11J6ayniCiLF3vVSSnvoUyv6SaaK4sBAJjPzyzeTxHuPNE2R5zmcc7DWQkiDer2BVquFZrOJs/NLnF9cwh2donFyhuN6A1WpQMZCKA0yGsYa7k0iMB4isCgKxJhIYzgcYjqdYjwe4+3tFdvtFp8f74jW7/dAJFHUdvU+BO6t1WpIQggwWkNKgSzbKVVEGI1GmEwmmM1mDN5sNvixsryHMYYBEVSEgPDtSSgKkNLY2z8AkUKWZSAilGWJ5XKJ9XrNkJeXZ9ze3ePh8QlX1zcgZZC7AJs65LnfKfUeiXMegiwOhQEpi9w5SCnR6XQYNp/PGdjr9VGpVCCEYAHGWKRpBu8Dj/yrMASQlKhWD7k4fozWGt1ul4GLxYKBg8GA81obCCF5klj735P4glKKVcW9xMvY2G63Gbharb73VnI+jhVh4Y+qv/4Fx/ifexKgHIAAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"BigQuery_example3\",\n    \"title\": \"BigQuery_example3\",\n    \"src\": \"/static/6d98ff0f963ccb61a09500ebce688485/fcda8/bigquery_3.png\",\n    \"srcSet\": [\"/static/6d98ff0f963ccb61a09500ebce688485/12f09/bigquery_3.png 148w\", \"/static/6d98ff0f963ccb61a09500ebce688485/e4a3f/bigquery_3.png 295w\", \"/static/6d98ff0f963ccb61a09500ebce688485/fcda8/bigquery_3.png 590w\", \"/static/6d98ff0f963ccb61a09500ebce688485/efc66/bigquery_3.png 885w\", \"/static/6d98ff0f963ccb61a09500ebce688485/c83ae/bigquery_3.png 1180w\", \"/static/6d98ff0f963ccb61a09500ebce688485/0f688/bigquery_3.png 2786w\"],\n    \"sizes\": \"(max-width: 590px) 100vw, 590px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, \"Clicking \\u201CSave results\\u201D gives us options to save it like .csv file, .json, google drive, and so on for further work with it.\\nAlso, we have an option here to save our query or the view, and to schedule our query, which could be convenient, if we were working with the dataset that constantly updates.\"));\n}\n;\nMDXContent.isMDXComponent = true;"}},"pageContext":{"id":"bec24513-300d-5bf0-ab27-d4855dcded83","slug":"post15","__params":{"slug":"post15"}}},
    "staticQueryHashes": []}